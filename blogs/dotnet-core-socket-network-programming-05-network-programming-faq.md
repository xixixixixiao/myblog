# Socket 网络编程中常见问题

## 如果超过客户端连接数

在本文的示例代码中, 服务端的 Socket 使用 `Listen` 方法等待客户端发起的连接请求, 方法的参数指明了 Socket 对象请求队列中最多能接收的连接请求个数. 给予的参数值是 `10`, 也就是说, 最多允许接受 10 个客户端的连接.

![请求队列](images/dotnet-core-socket-networking-programming/04-tcp-first-glance/listen-connection-request-queue.png)

如果超过了怎么办? 当队列已满时, 服务端将会忽略新的连接请求, 客户端会引发异常: "由于目标计算机积极拒绝, 无法连接."

## 如果双方的处理速度不一致

在阅读上文 *为了接收多批数据* 小节的客户端多次发送数据的示例代码时, 细心阅读的话会发现客户端示例代码中在每次发送之前都使用了 `Task.Delay` 去延缓发送速度.

现在, 将客户端的代码中的 `Task.Delay().Wait()` 代码片段移除, 由于没有了人为地延迟发送速度, 客户端将会以极快地速度向服务端发送数据.

## 如果双方的缓冲区大小不匹配

## "粘包" 与 "丢包"

通过本文的编程实践, 也可以看出利用 Socket 编写运行正确的应用程序是比较困难的, 对开发者水平要求比较高. 如果仅仅是开发常规的应用, 直接使用 Socket 的场景并不多, 但是如果开发支持跨平台, 跨设备或者有独特要求的网络应用程序, 则需要掌握 Socket 的开发技巧.
